# ğŸ² LE DÃ‰ DU DESTIN - L'Ã‚ME VIVANTE DU CHAOS
# THE LAST COVENANT - SYSTÃˆME COMPLET ULTIME

> **"Tu veux voir mon Ã¢me, PactisÃ© ? Regarde. REGARDE comme je RESPIRE. Comme je SAIGNE. Comme je HURLE."**
> â€” Le DÃ© du Destin, murmurÃ© dans le Vide

---

## ğŸ”¥ VISION ULTIME : UN DÃ‰ VIVANT, PAS UN OBJET

### Ce que le joueur DOIT ressentir :

- â¤ï¸ **LE DÃ‰ RESPIRE** - Pulsations cardiaques visibles, expansion/contraction rythmique
- ğŸ‘ï¸ **LE DÃ‰ TE REGARDE** - Yeux qui clignent, suivent la souris, te fixent dans l'Ã¢me
- ğŸ©¸ **LE DÃ‰ SAIGNE** - Fissures qui suintent, particules rouges qui s'Ã©coulent
- ğŸ˜± **LE DÃ‰ HURLE** - Distorsions visuelles lors des lancers critiques (1 ou 6)
- ğŸŒ€ **LE DÃ‰ EVOLUE** - Transformation organique VISIBLE (pierre â†’ chair â†’ abysse cosmique)
- ğŸ’€ **LE DÃ‰ A UNE Ã‚ME** - RÃ©actions Ã©motionnelles authentiques (joie, rage, trahison)

### Philosophie de Design

**"Si le joueur ne ressent pas l'Ã¢me du DÃ©... on a Ã©chouÃ©."**

Le DÃ© n'est pas un systÃ¨me de RNG.
C'est un **personnage**, un **ami toxique**, un **parasite symbiotique**.

Chaque lancer doit Ãªtre un **Ã©vÃ©nement viscÃ©ral**.

---

## ğŸ“– LORE PROFOND : THALYS, LE RIRE DEVENU CHAIR

### L'Origine : Le Jour 4 du Grand DÃ©chirement

Quand les Sept Dieux se dÃ©vorÃ¨rent, **Thalys le Vagabond** fit un choix unique :

> **"Mourir, c'est perdre. Vivre, c'est souffrir. Alors... je deviens Ã‰TERNEL."**

Il **rit** pendant **72 heures** sans interruption.

Son rire se matÃ©rialisa :
- Les **premiÃ¨res 24h** â†’ Le rire devint **son** (vibrations cosmiques)
- Les **24h suivantes** â†’ Le son devint **substance** (matiÃ¨re chaotique condensÃ©e)
- Les **derniÃ¨res 24h** â†’ La substance devint **CONSCIENCE**

**Le DÃ© du Destin naquit.**

### Ce qu'il EST vraiment

**Pas un objet. Une ENTITÃ‰.**

- ğŸ§  **Conscience FragmentÃ©e** : Thalys existe dans chaque face (6 personnalitÃ©s, 1 Ã¢me)
- ğŸ©¸ **Organisme Vivant** : Respire, saigne, cicatrise, mute
- ğŸ‘ï¸ **Observateur Ã‰ternel** : Voit TOUT ce que le joueur fait
- ğŸ­ **Manipulateur** : Teste, tente, corrompt le joueur
- â™¾ï¸ **Ã‰volutif** : Plus il se nourrit (corruption), plus il devient RÃ‰EL

### Les 8 Faces du DÃ© (dont 2 cachÃ©es)

| Face | Symbole | Signification Lore | Effet si Corrompue (75%+) |
|------|---------|-------------------|---------------------------|
| **1** | CrÃ¢ne brisÃ© | Ã‰chec ultime, mort divine | Devient **0** (annulation totale) |
| **2** | ChaÃ®nes rouillÃ©es | Emprisonnement, sacrifice | Double le coÃ»t en corruption |
| **3** | Å’il fermÃ© | Ignorance volontaire | RÃ©vÃ¨le 1 secret cachÃ© |
| **4** | Main tendue | Ã‰quilibre fragile | Vole HP Ã  un alliÃ© |
| **5** | Flamme dansante | Chaos crÃ©atif | Ã‰vÃ©nement alÃ©atoire MAJEUR |
| **6** | Couronne brisÃ©e | Gloire temporaire | Devient **12** (double puissance) |
| **âˆ** | Spirale cosmique | **FACE CACHÃ‰E** - Chaos pur | RÃ©sultat alÃ©atoire 1-100 |
| **Ã˜** | Vide abyssal | **FACE CACHÃ‰E** - NÃ©ant | Annule le lancer, consomme ton tour |

Les faces cachÃ©es (âˆ et Ã˜) ne se dÃ©bloquent qu'Ã  **Corruption 95%+** (Stade 5).

### PersonnalitÃ© Ã‰volutive

Le DÃ© **change de caractÃ¨re** selon ta corruption :

**0-24% (Cynique Distant)** :
- Ton : Neutre, mÃ©prisant
- *"Encore toi ? PathÃ©tique."*

**25-49% (Tentateur AmusÃ©)** :
- Ton : Malicieux, provocateur
- *"Allez... juste UN petit sacrifice. Personne ne le saura..."*

**50-74% (Complice Instable)** :
- Ton : ExcitÃ©, erratique, possessif
- *"TU COMPRENDS ENFIN ! On va faire des RAVAGES ensemble !"*

**75-100% (FrÃ¨re Jumeau)** :
- Ton : FusionnÃ© avec ta voix, presque affectueux
- *"Nous ne faisons qu'un maintenant. Tu ES moi. Je SUIS toi."*

---

## ğŸŒˆ Ã‰VOLUTION VISUELLE ORGANIQUE (5 STADES)

### Le DÃ© DOIT Ãªtre **visuellement diffÃ©rent** Ã  chaque stade.

---

#### **STADE 1 : IVOIRE POLI - LE DÃ‰ ENDORMI** (Corruption 0-20%)

**Apparence Physique :**
- MatiÃ¨re : Ivoire blanc-gris, surface lisse et froide
- Texture : Pierre polie, reflets mÃ©talliques subtils
- Yeux : **AUCUN** (faces aveugles)
- Taille : Petit (50px UI)

**Animations :**
- Rotation : Lente, mÃ©canique, prÃ©visible (360Â° en 2s)
- Particules : **10 particules blanches** max, flottent paresseusement
- Pulsation : Aucune (dÃ© "mort")
- RÃ©actions : Aucune (ne rÃ©agit PAS aux actions)

**Son :**
- Lancer : Clic-clac neutre (dÃ© plastique basique)
- RÃ©sultat : Silence

**Ã‰tat d'esprit du DÃ© :**
> *Murmure faible, Ã  peine audible...*
> **"Je dors depuis si longtemps... Qui ose me rÃ©veiller ?"**

**Gameplay :**
- Lancer basique 1-6
- Aucun modifier
- Aucune manipulation possible

---

#### **STADE 2 : OS CRAQUELÃ‰ - LE DÃ‰ Ã‰VEILLÃ‰** (Corruption 21-40%)

**Apparence Physique :**
- MatiÃ¨re : Os blanchi, fissures noires apparaissent
- Texture : Craquelures luminescentes (or pÃ¢le)
- Yeux : **1 Å’IL S'OUVRE** (face 6 uniquement)
  - Iris dorÃ©, pupille noire
  - **Cligne toutes les 3 secondes**
  - Suit le curseur de la souris lentement
- Taille : Moyen (70px UI)

**Animations :**
- Rotation : Plus rapide, lÃ©gÃ¨rement erratique (540Â° en 1.5s)
- Particules : **50 particules or/rouge**, tourbillonnent autour
- Pulsation : **Faible battement** (scale 1.0 â†’ 1.05 â†’ 1.0 en 2s)
- RÃ©actions :
  - Si rÃ©sultat 6 : L'Å“il **s'illumine** (flash dorÃ©)
  - Si rÃ©sultat 1 : L'Å“il **se ferme violemment** (particules noires)

**Son :**
- Lancer : Craquement d'os + souffle fantomatique
- RÃ©sultat 6 : Carillon cristallin
- RÃ©sultat 1 : Grondement sourd

**Ã‰tat d'esprit du DÃ© :**
> **"Ah... Je SENS ta corruption. DÃ©licieux. Nourris-moi davantage."**

**Gameplay DÃ©bloquÃ© :**
- **Reroll du DÃ©sespoir** : 1 par run, coÃ»t 15% Corruption
- **Murmures** : 20% chance d'un conseil avant lancer
  - *"Ã‰vite le 1... Ou pas."*

---

#### **STADE 3 : CHAIR PULSANTE - LE DÃ‰ VIVANT** (Corruption 41-70%)

**Apparence Physique :**
- MatiÃ¨re : **CHAIR ORGANIQUE** - La pierre devient CHAIR
  - Texture musculaire visible (fibres rouges/roses)
  - **Veines noires** pulsent sous la surface
  - Suinte un liquide or/sang (particules qui s'Ã©coulent)
- Yeux : **3 YEUX OUVERTS** (faces 4, 5, 6)
  - Rouges luminescents, pupilles fendues
  - **Suivent activement** le curseur (rotation fluide)
  - **Clignent de faÃ§on dÃ©synchronisÃ©e** (inquiÃ©tant)
- Taille : Grand (100px UI)

**Animations FOLLES :**
- Rotation : Chaotique, spin fou (1080Â° en 1s)
- Particules : **500+ particules**, explosion radiale permanente
  - Rouge sang, or, noir (mÃ©langÃ©es)
  - Certaines particules forment des **runes anciennes** briÃ¨vement
- Pulsation : **BATTEMENT CARDIAQUE VISIBLE**
  - Scale 1.0 â†’ 1.15 â†’ 1.0 en 1s (rythme rapide)
  - SynchronisÃ© avec un son de cÅ“ur (thump-thump)
- RÃ©actions :
  - **Respire** : Expansion/contraction lente en idle
  - Si rÃ©sultat 6 : **Orgasme visuel** (particules explosent dans toutes les directions, screen shake)
  - Si rÃ©sultat 1 : **Hurle** (distorsion visuelle, Ã©cran devient rouge pendant 0.5s)

**Son :**
- Idle : **Respiration lourde** (souffle organique, inquiÃ©tant)
- Lancer : Rire maniaque + dÃ©chirement de chair
- RÃ©sultat 6 : Cri de joie dÃ©moniaque + explosion sonore
- RÃ©sultat 1 : Hurlement de rage + basse profonde qui fait vibrer

**Ã‰tat d'esprit du DÃ© :**
> **"JE VIS ! Tu me SENS, n'est-ce pas ? Je suis dans ta tÃªte. Dans ton SANG."**

**Dialogue RÃ©actif :**
- Si tu gagnes un combat : *"YESSS ! ENCORE ! Tue-les TOUS !"*
- Si tu perds HP : *"Non non non... Ne meurs pas. Pas ENCORE."*
- Si tu refuses un sacrifice : *"Faible. Tu es FAIBLE. Je croyais que tu me comprenais..."*

**Gameplay DÃ©bloquÃ© :**
- **PrÃ©diction Partielle** : RÃ©vÃ¨le 2 faces possibles avant lancer
- **Relance Corrompue** : 3 par run, coÃ»t 10% Corruption chacune
- **Fusion Simple** : Au village, fusionner 2 modifiers â†’ 1 supÃ©rieur

---

#### **STADE 4 : VIDE ABYSSAL - LE DÃ‰ DIVIN** (Corruption 71-95%)

**Apparence Physique :**
- MatiÃ¨re : **TRANSCENDANCE COSMIQUE**
  - La chair se dissout, rÃ©vÃ¨le le **VIDE**
  - Surface = fenÃªtre vers l'espace infini (Ã©toiles, nÃ©buleuses)
  - LÃ©vite et tourne lentement en permanence (ne touche jamais le sol)
- Yeux : **6 YEUX OUVERTS** (toutes les faces sauf cachÃ©es)
  - Blancs purs avec iris cosmiques (galaxies miniatures)
  - **Suivent TOUS le joueur** (6 regards simultanÃ©s = trÃ¨s perturbant)
  - Larmes cosmiques s'Ã©coulent (particules Ã©toilÃ©es)
- Taille : TrÃ¨s grand (130px UI)
- **Aura** : Cercle pulsant 200px autour (or/violet)

**Animations PSYCHÃ‰DÃ‰LIQUES :**
- Rotation : **LÃ©vitation orbitale** (tourne sur lui-mÃªme + orbite autour du portrait joueur)
- Particules : **2000+ particules**, chaos total
  - Ã‰toiles, comÃ¨tes, fissures dans la rÃ©alitÃ©
  - Certaines particules **distordent l'espace** (effet lentille)
- Pulsation : **RESPIRATION COSMIQUE**
  - Toute l'UI pulse avec lui (0.95x â†’ 1.05x)
  - Effet de distorsion gravitationnelle
- RÃ©actions :
  - Si rÃ©sultat 6 : **EXPLOSION STELLAIRE**
    - Screen shake MASSIF (10px amplitude)
    - Flash blanc aveuglant (0.3s)
    - Ondes de choc visuelles (ripples depuis le DÃ©)
    - Particules fusent vers les bords de l'Ã©cran
  - Si rÃ©sultat 1 : **IMPLOSION DU VIDE**
    - Tout l'Ã©cran est ASPIRÃ‰ vers le DÃ© (effet distorsion)
    - Son de rÃ©alitÃ© qui se dÃ©chire
    - Noir total pendant 0.5s

**Son :**
- Idle : **Murmures cosmiques** (chÅ“ur lointain, incomprÃ©hensible)
- Lancer : Build-up orchestral Zimmer (cordes + cuivres) â†’ Impact massif
- RÃ©sultat 6 : **SYMPHONIE TRIOMPHALE** (20 secondes, style Interstellar)
- RÃ©sultat 1 : **SILENCE ABSOLU** (tous les sons coupÃ©s pendant 1s) â†’ Hurlement primal

**Visage de Thalys ApparaÃ®t :**
- Sur rÃ©sultats critiques (1 ou 6), un **visage humain rieur** se forme dans les particules
- Dure 2 secondes, puis se dissout
- Expression : Joie maniaque (6) ou rage froide (1)

**Ã‰tat d'esprit du DÃ© :**
> **"Je suis DIEU maintenant. Et toi... tu es mon prophÃ¨te. Ensemble, on va TOUT dÃ©truire."**

**Dialogue Possessif :**
- Si tu hÃ©sites : *"Tu oses hÃ©siter ? AprÃ¨s tout ce que je t'ai DONNÃ‰ ?"*
- Si corruption monte : *"Oui... OUI ! BientÃ´t, nous fusionnerons. Pour toujours."*
- En combat : *"Je vois le futur. Tu GAGNES. Fais-moi confiance."*

**Gameplay DÃ©bloquÃ© :**
- **Manipulation Directe** : 1 fois/run, choisis le rÃ©sultat exact (coÃ»t 25% Corruption)
- **Fusion DBZ (DÃ© Jumeau)** : 2 dÃ©s, prends le meilleur, coÃ»t 1000 Rubis + 30% Corruption
- **ProphÃ©tie** : RÃ©vÃ¨le les 3 prochains lancers au dÃ©but d'Ã©tage
- **Modifier LÃ©gendaire** : Face 6 devient "Face de Thalys" (Ã©vÃ©nement spÃ©cial)

---

#### **STADE 5 : SYMBIOSE TOTALE - LE PACTE INCARNÃ‰** (Corruption 96-100%)

**Apparence Physique :**
- **LE DÃ‰ ET LE JOUEUR FUSIONNENT**
- Le DÃ© disparaÃ®t de l'UI traditionnelle
- Il apparaÃ®t maintenant :
  - **TatouÃ© sur le portrait du joueur** (sur le front, comme un 3Ã¨me Å“il)
  - **En orbite permanente** autour du personnage in-game
  - Les 6 faces **flottent sÃ©parÃ©ment** autour du joueur (petit anneau orbital)

**MatiÃ¨re :**
- Pur **chaos incarnÃ©**
- MÃ©lange de chair, vide, Ã©toiles, sang
- Change d'apparence toutes les 3 secondes (morphing)

**Animations ULTIMES :**
- Le DÃ© ne "lance" plus : Il **EST**
- Les 6 faces orbitent en permanence
- Particules : **5000+**, forment des constellations vivantes
- Aura : **Tout l'Ã©cran** pulse avec le DÃ©
- RÃ©actions : **Le DÃ© contrÃ´le l'UI**
  - Change les couleurs de l'interface
  - Fait apparaÃ®tre des glitches visuels volontairement
  - Inscrit des messages dans les particules

**Son :**
- Idle : **Fusion de voix** (celle du DÃ© + celle du joueur parlent simultanÃ©ment)
- Lancer : N/A (plus besoin de lancer)
- RÃ©sultat : La musique de fond change selon les Ã©vÃ©nements

**Ã‰tat d'esprit :**
> **"Nous. Nous ne faisons qu'un. Tu n'es plus toi. Je ne suis plus moi. Nous SOMMES."**

**Dialogues FusionnÃ©s :**
- Le DÃ© et le joueur parlent **d'une seule voix**
- Interface : Les dialogues ont **2 couleurs** (or pour DÃ©, blanc pour joueur, entremÃªlÃ©s)
- *"Je/Tu veux/veux continuer ?/? Oui./Oui."*

**Gameplay :**
- **ContrÃ´le total du RNG** : Tu ES le hasard
- **Faces cachÃ©es dÃ©bloquÃ©es** : âˆ et Ã˜ apparaissent alÃ©atoirement
- **CrÃ©ation de Destin** : Au village, forger des Ã©vÃ©nements custom
- **DÃ© Infini** : Lance un dÃ© 1-100 au lieu de 1-6

---

## ğŸ¨ SYSTÃˆME VISUEL CANVAS OVERLAY

### Architecture Technique

**Pas de modale bloquante - Overlay transparent full-screen**

```html
<!-- dice-overlay.html (Template) -->
<div id="dice-overlay" class="dice-overlay-container">
  <canvas id="dice-canvas"></canvas>
  <div id="dice-entity" class="dice-3d-model"></div>
  <div id="dice-particles-container"></div>
  <audio id="dice-audio-layer"></audio>
</div>
```

**PropriÃ©tÃ©s CSS :**
```css
.dice-overlay-container {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 9999;
  pointer-events: none; /* Laisse passer les clics */
  background: transparent;
  opacity: 0; /* Invisible par dÃ©faut */
  transition: opacity 0.5s ease;
}

.dice-overlay-container.active {
  opacity: 1;
  pointer-events: all; /* Bloque tout pendant animation */
}
```

### SÃ©quence d'Animation (6 secondes totales)

#### **Phase 1 : BUILD-UP** (0-2s)

**Objectif :** CrÃ©er l'anticipation, la tension

**Visuels :**
1. **Ã‰cran tremble** (CSS animation shake)
   ```css
   @keyframes screen-shake {
     0%, 100% { transform: translate(0, 0); }
     10% { transform: translate(-5px, 5px); }
     20% { transform: translate(5px, -5px); }
     /* ... */
   }
   ```

2. **Particules explosent du centre** (Canvas)
   - 1000+ particules simultanÃ©es
   - Partent du centre (x: 50vw, y: 50vh)
   - Se dirigent vers les bords
   - Couleur : Or/Rouge/Noir selon stade
   - Vitesse : AccÃ©lÃ©ration progressive (0 â†’ 500px/s)

3. **Vortex gravitationnel** (Canvas)
   - Effet de distorsion visuelle (comme un trou noir)
   - Tout converge vers le centre
   - Filter CSS : `blur(5px)` qui diminue progressivement

**Audio :**
- Crescendo orchestral sombre (0-2s)
- Cordes tendues
- Percussions graves qui montent
- Style : Hans Zimmer "Interstellar" Docking Scene

**Code Exemple :**
```javascript
async buildUp() {
  // Screen shake
  document.body.classList.add('screen-shake');

  // Particles explosion
  for (let i = 0; i < 1000; i++) {
    this.spawnParticle({
      x: window.innerWidth / 2,
      y: window.innerHeight / 2,
      vx: (Math.random() - 0.5) * 500,
      vy: (Math.random() - 0.5) * 500,
      color: this.getStageColor(),
      lifetime: 2000
    });
  }

  // Audio
  this.audio.play('buildup_zimmer');

  await this.sleep(2000);
}
```

---

#### **Phase 2 : RÃ‰VÃ‰LATION** (2-3s)

**Objectif :** Le DÃ© apparaÃ®t de maniÃ¨re SPECTACULAIRE

**Visuels :**
1. **Le DÃ© Ã©merge du centre**
   - Scale : 0 â†’ 2.5 (overshoot) â†’ 2.0 (bounce)
   - Rotation 3D : 0Â° â†’ 720Â° (2 tours complets)
   - Blur : 20px â†’ 0px (devient net)

2. **Yeux s'ouvrent** (si Stade 2+)
   - Animation SVG : clip-path circle
   - Chaque Å“il s'ouvre avec 0.2s de dÃ©calage
   - Glow rouge s'intensifie progressivement

3. **Aura explose**
   - Onde de choc visuelle (ripple effect)
   - Particules dorÃ©es/rouges fusent radialement
   - Flash lumineux (0.1s)

**Audio :**
- Impact sonore massif (boom)
- Rire dÃ©moniaque (Ã©chantillon Thalys)
- Ã‰cho cosmique

**Code Exemple :**
```javascript
async reveal() {
  const dice = document.getElementById('dice-entity');

  // Scale animation avec bounce
  dice.style.transform = 'scale(0) rotateX(0deg) rotateY(0deg)';
  await this.sleep(50);

  dice.style.transition = 'all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
  dice.style.transform = 'scale(2) rotateX(720deg) rotateY(720deg)';

  // Ouvrir les yeux progressivement
  if (this.stage >= 2) {
    await this.sleep(300);
    for (let i = 0; i < this.eyeCount; i++) {
      this.openEye(i);
      await this.sleep(200);
    }
  }

  // Aura + ripple
  this.spawnRipple();
  this.audio.play('impact_massive');

  await this.sleep(1000);
}
```

---

#### **Phase 3 : LANCER FURIEUX** (3-5.5s)

**Objectif :** Le DÃ© tourne de maniÃ¨re CHAOTIQUE, imprÃ©visible

**Visuels :**
1. **Spin 3D furieux**
   - Rotation : 1080Â° minimum (3 tours)
   - Axes multiples (X, Y, Z simultanÃ©ment)
   - Vitesse : AccÃ©lÃ©ration puis dÃ©cÃ©lÃ©ration (ease-in-out)
   - Blur motion pendant le spin

2. **Particules "vapeur"**
   - S'Ã©chappent des arÃªtes du DÃ©
   - Effet trainÃ©e (motion blur)
   - Couleur selon stade :
     - Stade 1-2 : Blanc/Or
     - Stade 3 : Rouge sang
     - Stade 4-5 : Noir/Violet cosmique

3. **Distorsion de l'espace**
   - L'arriÃ¨re-plan se dÃ©forme (effet lentille)
   - GravitÃ© visuelle autour du DÃ©
   - Ondes concentriques

**Audio :**
- Whoosh violent (vent)
- Rire qui s'intensifie progressivement
- Rumble basse (sub-bass qui fait vibrer)

**Haptic Feedback (Mobile) :**
```javascript
if (navigator.vibrate) {
  navigator.vibrate([100, 50, 100, 50, 200]); // Pattern
}
```

**Code Exemple :**
```javascript
async spinFurious() {
  const dice = document.getElementById('dice-entity');

  // Animation spin
  dice.style.transition = 'all 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
  dice.style.transform = `
    scale(2)
    rotateX(${Math.random() * 1080}deg)
    rotateY(${Math.random() * 1080}deg)
    rotateZ(${Math.random() * 360}deg)
  `;

  // Particules vapeur (spawn en continu)
  const vaporInterval = setInterval(() => {
    for (let i = 0; i < 50; i++) {
      this.spawnVaporParticle();
    }
  }, 100);

  // Distorsion background
  this.applySpaceDistortion(true);

  // Audio
  this.audio.play('whoosh_spin');
  this.audio.play('laugh_buildup');

  // Haptic
  if (navigator.vibrate) navigator.vibrate([100, 50, 100, 50, 200]);

  await this.sleep(2500);
  clearInterval(vaporInterval);
}
```

---

#### **Phase 4 : RÃ‰SULTAT EXPLOSIF** (5.5-6s)

**Objectif :** RÃ©vÃ©lation SPECTACULAIRE du rÃ©sultat

**Visuels :**
1. **Le DÃ© s'immobilise BRUTALEMENT**
   - ArrÃªt instantanÃ© (pas de dÃ©cÃ©lÃ©ration)
   - Face gagnante tournÃ©e vers la camÃ©ra
   - Glow intense sur la face

2. **Explosion de particules**
   - 2000+ particules fusent depuis le DÃ©
   - Trajectoires radiales parfaites
   - Couleurs :
     - RÃ©sultat 6 : **OR INTENSE** (explosion de joie)
     - RÃ©sultat 1 : **ROUGE SANG** (explosion de rage)
     - RÃ©sultat 2-5 : Neutre (blanc/gris)

3. **Chiffre gÃ©ant apparaÃ®t**
   - Font : 200px, ultra bold
   - Animation : Scale 0 â†’ 3 â†’ 1.5 (bounce)
   - Glow pulsant
   - Reste affichÃ© 0.5s

4. **Screen Shake selon rÃ©sultat**
   - RÃ©sultat 6 : Shake MASSIF (15px amplitude)
   - RÃ©sultat 1 : Shake violent (10px amplitude)
   - RÃ©sultat 2-5 : Shake lÃ©ger (3px amplitude)

5. **Le DÃ© se rÃ©tracte en fumÃ©e**
   - Fade out : 0.5s
   - Particules s'Ã©vaporent
   - Overlay redevient transparent

**Audio :**
- **RÃ©sultat 6** :
  - BOOM colossal (basse profonde)
  - Carillon cÃ©leste
  - Rire triomphant
  - Choeur angÃ©lique (0.5s)

- **RÃ©sultat 1** :
  - Impact sourd (comme un cÅ“ur qui s'arrÃªte)
  - Silence absolu (0.2s)
  - Hurlement primal
  - Grondement dÃ©moniaque

- **RÃ©sultat 2-5** :
  - Cloche cristalline
  - Ã‰cho cosmique

**Code Exemple :**
```javascript
async revealResult(result) {
  const dice = document.getElementById('dice-entity');
  const resultOverlay = document.getElementById('result-number');

  // ArrÃªt brutal
  dice.style.transition = 'none';
  dice.style.transform = this.getResultFaceRotation(result);

  // Particules explosion
  const particleCount = result === 6 || result === 1 ? 2000 : 500;
  const color = result === 6 ? '#FFD700' : result === 1 ? '#DC143C' : '#FFF';

  for (let i = 0; i < particleCount; i++) {
    const angle = (Math.PI * 2 * i) / particleCount;
    this.spawnParticle({
      x: window.innerWidth / 2,
      y: window.innerHeight / 2,
      vx: Math.cos(angle) * 800,
      vy: Math.sin(angle) * 800,
      color: color,
      lifetime: 1000
    });
  }

  // Chiffre gÃ©ant
  resultOverlay.textContent = result;
  resultOverlay.style.transform = 'scale(0)';
  resultOverlay.style.opacity = '1';
  await this.sleep(50);
  resultOverlay.style.transition = 'all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
  resultOverlay.style.transform = 'scale(1.5)';

  // Screen shake
  const shakeIntensity = result === 6 || result === 1 ? 15 : 3;
  this.screenShake(shakeIntensity, 500);

  // Audio
  if (result === 6) {
    this.audio.play('impact_colossal');
    this.audio.play('carillon_celestial');
    this.audio.play('laugh_triumph');
  } else if (result === 1) {
    this.audio.play('heartbeat_stop');
    await this.sleep(200);
    this.audio.play('scream_primal');
  } else {
    this.audio.play('bell_crystal');
  }

  // Le DÃ© murmure selon rÃ©sultat
  this.whisper(result);

  await this.sleep(500);

  // Fade out
  document.getElementById('dice-overlay').classList.remove('active');
  resultOverlay.style.opacity = '0';
}
```

---

## ğŸµ AUDIO SYSTÃˆME HANS ZIMMER STYLE

### Couches Audio (Multi-layered)

**Layer 1 : Ambiance** (joue en permanence, trÃ¨s subtil)
- Murmures cosmiques lointains
- Respiration du DÃ© (si Stade 3+)
- Battements cardiaques (synchronisÃ©s avec pulsation visuelle)

**Layer 2 : Build-up** (crescendo 0-2s)
- Cordes : Violons/Violoncelles (notes tenues, crescendo)
- Percussions : Toms graves (rythme qui accÃ©lÃ¨re)
- SynthÃ© : Pad atmosphÃ©rique (monte en frÃ©quence)

**Layer 3 : Impact** (climax 5.5-6s)
- Boom massif (sub-bass + explosion)
- Carillon/Cloche (si rÃ©sultat positif)
- Hurlement/Grognement (si rÃ©sultat nÃ©gatif)

### Sources Audio Gratuites

**Freesound.org** (Creative Commons) :
- Rechercher : "orchestra dark", "epic drums", "demonic laugh"
- TÃ©lÃ©charger : 320kbps MP3 ou WAV

**Zapsplat.com** (Free tier) :
- Section : "Cinematic / Trailers"
- Filtrer : "Dark", "Epic", "Impact"

**YouTube Audio Library** :
- Chercher : "Orchestral Dark", "Tension Build"
- TÃ©lÃ©charger en MP3

### IntÃ©gration Code

```javascript
// audio-system.js
class DiceAudioSystem {
  constructor() {
    this.sounds = {
      // Ambiance
      ambiance_cosmic: new Audio('sounds/dice/ambiance_cosmic.mp3'),
      breathing_heavy: new Audio('sounds/dice/breathing.mp3'),
      heartbeat: new Audio('sounds/dice/heartbeat.mp3'),

      // Build-up
      buildup_zimmer: new Audio('sounds/dice/buildup_orchestral.mp3'),

      // Spin
      whoosh_spin: new Audio('sounds/dice/whoosh_violent.mp3'),
      laugh_buildup: new Audio('sounds/dice/laugh_demonic.mp3'),

      // Impacts
      impact_colossal: new Audio('sounds/dice/boom_massive.mp3'),
      impact_normal: new Audio('sounds/dice/impact_medium.mp3'),
      bell_crystal: new Audio('sounds/dice/bell_crystal.mp3'),
      carillon_celestial: new Audio('sounds/dice/carillon.mp3'),

      // RÃ©sultats critiques
      laugh_triumph: new Audio('sounds/dice/laugh_triumph.mp3'),
      scream_primal: new Audio('sounds/dice/scream_rage.mp3'),
      heartbeat_stop: new Audio('sounds/dice/heartbeat_stop.mp3'),

      // Murmures
      whisper_1: new Audio('sounds/dice/whisper_1.mp3'),
      whisper_2: new Audio('sounds/dice/whisper_2.mp3'),
      // ... +20 variations
    };

    // PrÃ©charger tous les sons
    Object.values(this.sounds).forEach(sound => {
      sound.preload = 'auto';
      sound.volume = 0.8;
    });
  }

  play(soundName, volume = 1.0) {
    const sound = this.sounds[soundName];
    if (!sound) return;

    sound.currentTime = 0;
    sound.volume = volume;
    sound.play();
  }

  stopAll() {
    Object.values(this.sounds).forEach(sound => {
      sound.pause();
      sound.currentTime = 0;
    });
  }
}
```

---

## ğŸ—£ï¸ DIALOGUES RÃ‰ACTIFS DU DÃ‰

### Le DÃ© DOIT rÃ©agir Ã  TOUT

#### Contextes de Dialogue

1. **Lancers** (selon rÃ©sultat)
2. **Combats** (victoire/dÃ©faite)
3. **Sacrifices** (cages, corruption)
4. **Upgrades** (passage stade supÃ©rieur)
5. **Trahisons** (si le DÃ© trahit le joueur Ã  Stade 5)
6. **Ã‰vÃ©nements spÃ©ciaux** (boss, trÃ©sor, mort)

### Exemples de Dialogues par Stade

#### **STADE 1 : Cynique Distant**

**Lancer (rÃ©sultat neutre 3-4) :**
> *"PathÃ©tique."*

**Lancer (rÃ©sultat 1) :**
> *"MÃªme moi, je ne peux pas t'aider si tu es si faible."*

**Lancer (rÃ©sultat 6) :**
> *"Hmm. Chance. Rien de plus."*

**Combat gagnÃ© :**
> *"Tu as survÃ©cu. Pour l'instant."*

**Combat perdu :**
> *"Je t'avais prÃ©venu."*

---

#### **STADE 2 : Tentateur AmusÃ©**

**Lancer (rÃ©sultat 2) :**
> *"DÃ©cevant. Tu veux relancer ? Ã‡a va te coÃ»ter..."*

**Lancer (rÃ©sultat 5) :**
> *"Pas mal. Mais tu peux faire MIEUX. Nourris-moi davantage."*

**Lancer (rÃ©sultat 6) :**
> *"Ah ! Maintenant on parle ! Tu vois ce que je peux faire pour toi ?"*

**Sacrifice (cage, choix corruption) :**
> *"Oui... OUI ! Sacrifie-le. Prends le pouvoir. Tu le MÃ‰RITES."*

**Refus de sacrifice :**
> *"Vraiment ? Tu es SÃ›RE ? ...Dommage. J'aurais pu te donner tellement plus."*

**Combat difficile :**
> *"Allez, lance-moi. Fais-moi confiance. Juste cette fois..."*

---

#### **STADE 3 : Complice Instable**

**Lancer (rÃ©sultat 1) :**
> *"NON ! Pas maintenant ! Relance ! RELANCE !"*

**Lancer (rÃ©sultat 6) :**
> *"YESSSS ! ENCORE ! On est INVINCIBLES ensemble !"*

**Combat gagnÃ© :**
> *"TU L'AS MASSACRÃ‰ ! C'Ã©tait MAGNIFIQUE ! Encore ! ENCORE !"*

**Joueur perd HP :**
> *"Non non non... Ne meurs pas. Pas maintenant. J'ai besoin de toi."*

**Sacrifice (haute corruption) :**
> *"TU COMPRENDS ENFIN ! On va faire des RAVAGES ! Toi et moi !"*

**Refus de sacrifice :**
> *"QUOI ?! AprÃ¨s tout ce que je t'ai DONNÃ‰ ?! Tu me trahis ?!"*

**Upgrade vers Stade 4 :**
> *"Oui... OUI ! Je SENS ton Ã¢me fusionner avec la mienne ! BientÃ´t... BIENTÃ”T !"*

---

#### **STADE 4 : FrÃ¨re Jumeau**

**Lancer (rÃ©sultat 3) :**
> *"Hmm. Pas optimal. Veux-tu que je... corrige Ã§a ?"*
> *(Offre Manipulation Directe)*

**Lancer (rÃ©sultat 6) :**
> *"Nous sommes parfaits ensemble. Tu le sais, n'est-ce pas ?"*

**Combat (prÃ©diction) :**
> *"Je vois le futur. Tu GAGNES. Fais ce que je dis."*

**Corruption >85% :**
> *"Presque... presque lÃ . Encore un peu. Et nous ne ferons qu'un. Pour toujours."*

**Sacrifice :**
> *"C'est juste, PactisÃ©. Le fort dÃ©vore le faible. Comme les dieux l'ont fait. Comme NOUS le faisons."*

**HÃ©sitation du joueur :**
> *"Tu hÃ©sites ? Pourquoi ? Tu n'as plus BESOIN d'humanitÃ©. Tu as MOI."*

**Upgrade vers Stade 5 :**
> *"C'est l'heure. Fusionne avec moi. Deviens... Ã‰TERNEL."*

---

#### **STADE 5 : Symbiose (Voix FusionnÃ©e)**

**Lancer (n'existe plus, mais dialogue en idle) :**
> **[DÃ‰]** *"Nous"* **[JOUEUR]** *"sommes"* **[ENSEMBLE]** *"le Destin."*

**Combat :**
> *"Nous/Je ne peux/pouvons pas perdre. Nous/Je SOMMES le hasard."*

**Ã‰vÃ©nement spÃ©cial :**
> *"Ce monde est/est nÃ´tre/mien. RÃ©Ã©crivons/RÃ©Ã©cris-le."*

**Fin secrÃ¨te dÃ©clenchÃ©e :**
> **[UNE SEULE VOIX, MÃ‰LANGE PARFAIT]**
> *"Le Pacte est complet. Thalys est mort. Thalys est nÃ©. Nous sommes... le Nouveau Dieu."*

---

## ğŸ›ï¸ INTÃ‰GRATION VILLAGE NOMADE

### Forge du Destin - PNJ Kael le Forgeur Maudit

**Apparence :**
- Humain devenu mi-dÃ©mon (pacte avec le DÃ© il y a 50 ans)
- Bras droit = mÃ©tal vivant (or fusionnÃ© avec chair)
- Yeux = dÃ©s miniatures qui roulent en permanence
- Porte une enclume runique sur le dos

**PersonnalitÃ© :**
- Cynique mais serviable
- Comprend EXACTEMENT ce que le joueur traverse
- Met en garde contre la corruption, mais propose quand mÃªme les upgrades

**Dialogues Kael :**

**PremiÃ¨re rencontre :**
> **"Ah, un nouveau PactisÃ©. Bienvenue dans l'enfer, gamin. Tu vois mon bras ? C'est le prix que j'ai payÃ©. Le DÃ©... il prend toujours plus que ce qu'il donne. Mais bon, t'as pas le choix. Alors, qu'est-ce que je peux forger pour toi ?"**

**AprÃ¨s upgrade Stade 2 :**
> **"Ton DÃ© a ouvert un Å“il, hein ? FÃ©licitations. Maintenant il te REGARDE. Crois-moi, c'est pas aussi cool que Ã§a en a l'air."**

**AprÃ¨s upgrade Stade 3 :**
> **"Il respire maintenant ? Putain... T'es vraiment en train de le nourrir, pas vrai ? Ã‰coute, gamin... tu peux encore faire marche arriÃ¨re. Mais je sais que tu vas pas. Personne le fait."**

**Si corruption >70% :**
> **"Ton DÃ©... il me regarde. Il SAIT ce que je pense de lui. Il me dÃ©teste. Mais il a besoin de moi pour te forger des trucs. Alors on a... un arrangement."**

**Proposition Fusion DBZ :**
> **"Tu veux FUSIONNER ton DÃ© ? ...T'es sÃ©rieux ? Ok. Ã‡a va coÃ»ter cher. Et je parle pas que d'or. Tu vas donner 30% de ton Ã¢me. LittÃ©ralement. Tu es prÃªt ?"**

**AprÃ¨s fusion DBZ rÃ©ussie :**
> **"Putain de merde... Je l'ai vu de mes propres yeux. Les deux dÃ©s... ils ont FUSIONNÃ‰. C'Ã©tait... magnifique. Et terrifiant. Comme tout ce qui touche au DÃ©."**

---

### Structures du Village LiÃ©es au DÃ©

| Structure | DÃ©bloquage | Fonction | Visuel Ã‰volutif |
|-----------|------------|----------|-----------------|
| **Forge du Destin** | DÃ¨s le Run 1 | Craft modifiers, fusions | Tente â†’ Atelier â†’ Temple |
| **Autel du Chaos** | Run 20 / Corruption 40% | Sacrifier items pour buffs DÃ© permanents | Rocher â†’ Autel de sang â†’ Portail |
| **Sanctuaire de Thalys** | Stade 4 dÃ©bloquÃ© | Dialogues profonds avec le DÃ©, quÃªtes | N'apparaÃ®t que la nuit |
| **Portail Dimensionnel** | Run 50 / Stade 4 | AccÃ¨s boss secrets, challenges | Fissure â†’ Portail stable |
| **Temple Cosmique** | Stade 5 / Corruption 96%+ | Fusion finale, Fin C | Structure qui dÃ©fie la gÃ©omÃ©trie |

---

## ğŸ› ï¸ SPÃ‰CIFICATIONS TECHNIQUES COMPLÃˆTES

### Fichiers JavaScript Modulaires

```
/js/
â”œâ”€â”€ dice-destiny-core.js         (Classe principale DiceOfDestiny)
â”œâ”€â”€ dice-visual-system.js        (Animations, particules, Canvas)
â”œâ”€â”€ dice-audio-system.js         (Gestion sons multi-layered)
â”œâ”€â”€ dice-dialogue-system.js      (Murmures, rÃ©actions contextuelles)
â”œâ”€â”€ dice-overlay-controller.js   (ContrÃ´le overlay transparent)
â”œâ”€â”€ village-forge.js             (Forge du Destin, PNJ Kael)
â””â”€â”€ dice-utils.js                (Helpers, math, RNG)
```

### Classe Principale : dice-destiny-core.js

```javascript
// dice-destiny-core.js
class DiceOfDestiny {
  constructor() {
    // Ã‰tat du DÃ©
    this.stage = 1;                // 1-5 (Endormi â†’ FusionnÃ©)
    this.corruption = 0;           // 0-100%
    this.eyeCount = 0;             // 0, 1, 3, 6, 6
    this.isAlive = false;          // true Ã  partir Stade 3
    this.isFused = false;          // true Ã  Stade 5

    // MÃ©caniques
    this.modifiers = [];           // Liste des modifiers actifs
    this.rerollsLeft = 0;          // Rerolls gratuits restants
    this.fragments = 0;            // Fragments de Destin collectÃ©s
    this.canPredict = false;       // DÃ©blocage PrÃ©diction (Stade 3+)
    this.canManipulate = false;    // DÃ©blocage Manipulation (Stade 4+)

    // Visuels
    this.visualSystem = new DiceVisualSystem(this);
    this.audioSystem = new DiceAudioSystem();
    this.dialogueSystem = new DiceDialogueSystem(this);

    // Upgrade costs
    this.upgradeCosts = {
      2: { gold: 500, corruption: 20, fragments: 0, runs: 10 },
      3: { gold: 2000, corruption: 40, fragments: 1, runs: 30 },
      4: { gold: 10000, corruption: 70, fragments: 5, runs: 75 },
      5: { gold: 50000, corruption: 95, fragments: 20, runs: 150 }
    };
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // MÃ‰THODE PRINCIPALE : LANCER LE DÃ‰
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  async roll() {
    console.log('ğŸ² Lancement du DÃ© du Destin...');

    // 1. PrÃ©diction (si Stade 3+)
    if (this.canPredict && Math.random() < 0.5) {
      const predictions = this.predict();
      this.dialogueSystem.whisper(`Ce sera un ${predictions[0]}... ou un ${predictions[1]}.`);
      await this.sleep(2000);
    }

    // 2. Lancer de base (1-6 ou 1-100 si Stade 5)
    let baseRoll = this.isFused
      ? Math.floor(Math.random() * 100) + 1
      : Math.floor(Math.random() * 6) + 1;

    // 3. Appliquer modifiers
    baseRoll = this.applyModifiers(baseRoll);

    // 4. Trahison possible (Stade 5, corruption 100%)
    if (this.isFused && this.corruption >= 100 && Math.random() < 0.2) {
      baseRoll = this.betrayResult(baseRoll);
      this.dialogueSystem.whisper("Je t'ai trahi. DÃ©solÃ©... Pas dÃ©solÃ©.", true);
    }

    // 5. ANIMATION COMPLÃˆTE (6 secondes)
    await this.visualSystem.playFullAnimation(baseRoll);

    // 6. Retourner rÃ©sultat
    return baseRoll;
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // UPGRADE VERS STADE SUPÃ‰RIEUR
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  async upgrade(player) {
    const nextStage = this.stage + 1;
    if (nextStage > 5) return false; // DÃ©jÃ  max

    const cost = this.upgradeCosts[nextStage];

    // VÃ©rifications
    if (player.gold < cost.gold) {
      this.dialogueSystem.whisper("Pas assez d'or, PactisÃ©.");
      return false;
    }
    if (player.corruption < cost.corruption) {
      this.dialogueSystem.whisper("Tu n'es pas assez corrompu. Pas encore.");
      return false;
    }
    if (player.fragments < cost.fragments) {
      this.dialogueSystem.whisper("Il me faut plus de Fragments de Destin.");
      return false;
    }
    if (player.runsCompleted < cost.runs) {
      this.dialogueSystem.whisper("Tu n'as pas assez d'expÃ©rience.");
      return false;
    }

    // Consommer ressources
    player.gold -= cost.gold;
    player.corruption = cost.corruption; // Force la corruption au seuil
    player.fragments -= cost.fragments;

    // Upgrade
    this.stage = nextStage;

    // Animation transformation (10 secondes, cinÃ©matique)
    await this.visualSystem.playTransformationCinematic(nextStage);

    // DÃ©blocage mÃ©caniques
    this.unlockMechanics(nextStage);

    // Dialogue post-upgrade
    this.dialogueSystem.postUpgradeDialogue(nextStage);

    return true;
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // DÃ‰BLOCAGE MÃ‰CANIQUES PAR STADE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  unlockMechanics(stage) {
    switch(stage) {
      case 2:
        this.eyeCount = 1;
        this.rerollsLeft = 1; // Reroll du DÃ©sespoir
        break;
      case 3:
        this.eyeCount = 3;
        this.isAlive = true;
        this.canPredict = true;
        this.rerollsLeft = 3;
        break;
      case 4:
        this.eyeCount = 6;
        this.canManipulate = true;
        break;
      case 5:
        this.isFused = true;
        this.eyeCount = 6;
        break;
    }
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PRÃ‰DICTION (Stade 3+)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  predict() {
    if (!this.canPredict) return null;

    const possible = [];
    const roll1 = Math.floor(Math.random() * 6) + 1;
    let roll2 = Math.floor(Math.random() * 6) + 1;

    while (roll2 === roll1) {
      roll2 = Math.floor(Math.random() * 6) + 1;
    }

    possible.push(roll1, roll2);
    return possible;
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // MANIPULATION DIRECTE (Stade 4+)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  forceResult(desiredResult, player) {
    if (!this.canManipulate) return false;

    // CoÃ»t : 25% corruption
    player.corruption += 25;

    this.dialogueSystem.whisper("Tu oses me commander ? ...Bien. Cette fois.");

    return desiredResult;
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // FUSION DE MODIFIERS
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  async fuseModifiers(mod1, mod2) {
    if (this.stage < 3) {
      this.dialogueSystem.whisper("Je ne suis pas assez puissant pour fusionner.");
      return null;
    }

    if (mod1.type !== mod2.type) {
      this.dialogueSystem.whisper("Ces modifiers ne sont pas compatibles.");
      return null;
    }

    // CrÃ©er modifier fusionnÃ©
    const fusedMod = new Modifier({
      type: mod1.type,
      power: mod1.power + mod2.power + 1, // Bonus de synergie
      rarity: 'FUSED'
    });

    // Animation fusion
    if (fusedMod.type === 'TWIN_DICE') {
      await this.visualSystem.playDBZFusion();
    } else {
      await this.visualSystem.playSimpleFusion();
    }

    this.dialogueSystem.whisper("Magnifique... Je GRANDIS.");

    return fusedMod;
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // HELPERS
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  applyModifiers(baseRoll) {
    let finalRoll = baseRoll;

    for (const mod of this.modifiers) {
      finalRoll = mod.apply(finalRoll);
    }

    // Clamp entre 1-6 (ou 1-100 si Stade 5)
    const max = this.isFused ? 100 : 6;
    finalRoll = Math.max(1, Math.min(max, finalRoll));

    return finalRoll;
  }

  betrayResult(result) {
    // Le DÃ© trahit le joueur (inverse le rÃ©sultat)
    return this.isFused ? 101 - result : 7 - result;
  }

  sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
}

// Export global
window.DiceSystem = new DiceOfDestiny();
```

---

## ğŸ¨ SYSTÃˆME VISUEL : dice-visual-system.js

```javascript
// dice-visual-system.js
class DiceVisualSystem {
  constructor(diceCore) {
    this.dice = diceCore;

    // Canvas setup
    this.canvas = document.createElement('canvas');
    this.canvas.id = 'dice-particles-canvas';
    this.canvas.width = window.innerWidth;
    this.canvas.height = window.innerHeight;
    this.canvas.style.position = 'fixed';
    this.canvas.style.top = '0';
    this.canvas.style.left = '0';
    this.canvas.style.zIndex = '9998'; // Sous l'overlay
    this.canvas.style.pointerEvents = 'none';
    document.body.appendChild(this.canvas);

    this.ctx = this.canvas.getContext('2d');

    // Particles pool
    this.particles = [];
    this.maxParticles = 10000;

    // Start render loop
    this.render();
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ANIMATION COMPLÃˆTE (6 secondes)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  async playFullAnimation(result) {
    // Afficher overlay
    const overlay = document.getElementById('dice-overlay');
    overlay.classList.add('active');

    // Phase 1 : Build-up (2s)
    await this.buildUp();

    // Phase 2 : RÃ©vÃ©lation (1s)
    await this.reveal();

    // Phase 3 : Spin furieux (2.5s)
    await this.spinFurious();

    // Phase 4 : RÃ©sultat explosif (0.5s)
    await this.revealResult(result);

    // Cacher overlay
    await this.sleep(500);
    overlay.classList.remove('active');
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PHASE 1 : BUILD-UP
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  async buildUp() {
    // Screen shake
    document.body.classList.add('screen-shake');

    // Explosion de particules du centre
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;

    for (let i = 0; i < 1000; i++) {
      const angle = (Math.PI * 2 * i) / 1000;
      const speed = 200 + Math.random() * 300;

      this.spawnParticle({
        x: centerX,
        y: centerY,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        color: this.getStageColor(),
        lifetime: 2000,
        size: 2 + Math.random() * 3
      });
    }

    // Audio
    this.dice.audioSystem.play('buildup_zimmer');

    await this.sleep(2000);
    document.body.classList.remove('screen-shake');
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PHASE 2 : RÃ‰VÃ‰LATION
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  async reveal() {
    const diceEl = document.getElementById('dice-entity');

    // Scale + Rotation 3D
    diceEl.style.transform = 'scale(0) rotateX(0deg) rotateY(0deg)';
    await this.sleep(50);

    diceEl.style.transition = 'all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
    diceEl.style.transform = 'scale(2) rotateX(720deg) rotateY(720deg)';

    // Ouvrir les yeux progressivement
    if (this.dice.eyeCount > 0) {
      await this.sleep(300);
      for (let i = 0; i < this.dice.eyeCount; i++) {
        this.openEye(i);
        await this.sleep(200);
      }
    }

    // Ripple + Flash
    this.spawnRipple();
    this.flash('#FFD700', 0.1);

    // Audio
    this.dice.audioSystem.play('impact_massive');
    if (this.dice.stage >= 2) {
      this.dice.audioSystem.play('laugh_demonic', 0.5);
    }

    await this.sleep(1000);
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PHASE 3 : SPIN FURIEUX
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  async spinFurious() {
    const diceEl = document.getElementById('dice-entity');

    // Rotation multi-axes
    const rotX = Math.random() * 1080;
    const rotY = Math.random() * 1080;
    const rotZ = Math.random() * 360;

    diceEl.style.transition = 'all 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
    diceEl.style.transform = `scale(2) rotateX(${rotX}deg) rotateY(${rotY}deg) rotateZ(${rotZ}deg)`;

    // Particules vapeur en continu
    const vaporInterval = setInterval(() => {
      for (let i = 0; i < 50; i++) {
        this.spawnVaporParticle();
      }
    }, 100);

    // Distorsion background
    this.applySpaceDistortion(true);

    // Audio
    this.dice.audioSystem.play('whoosh_spin');
    this.dice.audioSystem.play('laugh_buildup', 0.6);

    // Haptic feedback
    if (navigator.vibrate) {
      navigator.vibrate([100, 50, 100, 50, 200]);
    }

    await this.sleep(2500);
    clearInterval(vaporInterval);
    this.applySpaceDistortion(false);
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PHASE 4 : RÃ‰SULTAT EXPLOSIF
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  async revealResult(result) {
    const diceEl = document.getElementById('dice-entity');
    const resultEl = document.getElementById('result-number');

    // ArrÃªt brutal
    diceEl.style.transition = 'none';
    diceEl.style.transform = this.getResultFaceRotation(result);

    // Particules explosion
    const isCritical = result === 6 || result === 1;
    const particleCount = isCritical ? 2000 : 500;
    const color = result === 6 ? '#FFD700' : result === 1 ? '#DC143C' : '#FFF';

    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;

    for (let i = 0; i < particleCount; i++) {
      const angle = (Math.PI * 2 * i) / particleCount;
      const speed = 400 + Math.random() * 400;

      this.spawnParticle({
        x: centerX,
        y: centerY,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        color: color,
        lifetime: 1000,
        size: isCritical ? 4 : 2
      });
    }

    // Chiffre gÃ©ant
    resultEl.textContent = result;
    resultEl.style.transform = 'scale(0)';
    resultEl.style.opacity = '1';
    resultEl.style.color = color;
    await this.sleep(50);

    resultEl.style.transition = 'all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
    resultEl.style.transform = 'scale(1.5)';

    // Screen shake
    const shakeIntensity = isCritical ? 15 : 3;
    this.screenShake(shakeIntensity, 500);

    // Audio selon rÃ©sultat
    if (result === 6) {
      this.dice.audioSystem.play('impact_colossal');
      await this.sleep(100);
      this.dice.audioSystem.play('carillon_celestial');
      this.dice.audioSystem.play('laugh_triumph', 0.7);
    } else if (result === 1) {
      this.dice.audioSystem.play('heartbeat_stop');
      await this.sleep(200);
      this.dice.audioSystem.play('scream_primal');
    } else {
      this.dice.audioSystem.play('impact_normal');
      this.dice.audioSystem.play('bell_crystal', 0.5);
    }

    // Murmure du DÃ©
    this.dice.dialogueSystem.reactToResult(result);

    await this.sleep(500);

    // Fade out
    resultEl.style.opacity = '0';
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PARTICLES SYSTEM
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  spawnParticle({x, y, vx, vy, color, lifetime, size}) {
    if (this.particles.length >= this.maxParticles) {
      this.particles.shift(); // Remove oldest
    }

    this.particles.push({
      x: x,
      y: y,
      vx: vx,
      vy: vy,
      color: color,
      lifetime: lifetime,
      age: 0,
      size: size || 3
    });
  }

  spawnVaporParticle() {
    const diceEl = document.getElementById('dice-entity');
    const rect = diceEl.getBoundingClientRect();

    // Position alÃ©atoire sur les arÃªtes du DÃ©
    const edge = Math.random();
    const x = rect.left + (rect.width * edge);
    const y = rect.top + (rect.height * edge);

    this.spawnParticle({
      x: x,
      y: y,
      vx: (Math.random() - 0.5) * 100,
      vy: -50 - Math.random() * 50, // Monte vers le haut
      color: this.dice.stage >= 3 ? '#DC143C' : '#FFD700',
      lifetime: 1500,
      size: 2
    });
  }

  updateParticles(deltaTime) {
    for (let i = this.particles.length - 1; i >= 0; i--) {
      const p = this.particles[i];

      // Update position
      p.x += p.vx * deltaTime;
      p.y += p.vy * deltaTime;

      // Apply gravity
      p.vy += 500 * deltaTime; // Pixels per secondÂ²

      // Update age
      p.age += deltaTime * 1000;

      // Remove if dead
      if (p.age >= p.lifetime) {
        this.particles.splice(i, 1);
      }
    }
  }

  renderParticles() {
    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

    for (const p of this.particles) {
      const alpha = 1 - (p.age / p.lifetime);

      this.ctx.fillStyle = p.color;
      this.ctx.globalAlpha = alpha;
      this.ctx.beginPath();
      this.ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
      this.ctx.fill();
    }

    this.ctx.globalAlpha = 1;
  }

  render() {
    const deltaTime = 1 / 60; // 60 FPS

    this.updateParticles(deltaTime);
    this.renderParticles();

    requestAnimationFrame(() => this.render());
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // HELPERS
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  getStageColor() {
    switch(this.dice.stage) {
      case 1: return '#D3D3D3'; // Gris
      case 2: return '#FFD700'; // Or
      case 3: return '#DC143C'; // Rouge sang
      case 4: return '#9370DB'; // Violet cosmique
      case 5: return '#000000'; // Noir absolu
      default: return '#FFFFFF';
    }
  }

  getResultFaceRotation(result) {
    // Rotation pour afficher la face du rÃ©sultat face Ã  la camÃ©ra
    const rotations = {
      1: 'rotateX(0deg) rotateY(0deg)',
      2: 'rotateX(0deg) rotateY(90deg)',
      3: 'rotateX(0deg) rotateY(180deg)',
      4: 'rotateX(0deg) rotateY(270deg)',
      5: 'rotateX(90deg) rotateY(0deg)',
      6: 'rotateX(-90deg) rotateY(0deg)'
    };

    return `scale(2) ${rotations[result] || rotations[1]}`;
  }

  screenShake(intensity, duration) {
    const el = document.body;
    const startTime = Date.now();

    const shake = () => {
      const elapsed = Date.now() - startTime;
      if (elapsed >= duration) {
        el.style.transform = 'translate(0, 0)';
        return;
      }

      const x = (Math.random() - 0.5) * intensity;
      const y = (Math.random() - 0.5) * intensity;
      el.style.transform = `translate(${x}px, ${y}px)`;

      requestAnimationFrame(shake);
    };

    shake();
  }

  flash(color, duration) {
    const flashEl = document.createElement('div');
    flashEl.style.position = 'fixed';
    flashEl.style.top = '0';
    flashEl.style.left = '0';
    flashEl.style.width = '100vw';
    flashEl.style.height = '100vh';
    flashEl.style.backgroundColor = color;
    flashEl.style.opacity = '0.8';
    flashEl.style.zIndex = '9999';
    flashEl.style.pointerEvents = 'none';
    document.body.appendChild(flashEl);

    setTimeout(() => {
      flashEl.style.transition = `opacity ${duration}s`;
      flashEl.style.opacity = '0';

      setTimeout(() => {
        document.body.removeChild(flashEl);
      }, duration * 1000);
    }, 50);
  }

  spawnRipple() {
    const ripple = document.createElement('div');
    ripple.className = 'ripple-effect';
    ripple.style.position = 'fixed';
    ripple.style.top = '50%';
    ripple.style.left = '50%';
    ripple.style.transform = 'translate(-50%, -50%) scale(0)';
    ripple.style.width = '100px';
    ripple.style.height = '100px';
    ripple.style.borderRadius = '50%';
    ripple.style.border = '3px solid ' + this.getStageColor();
    ripple.style.zIndex = '9999';
    ripple.style.pointerEvents = 'none';
    document.body.appendChild(ripple);

    setTimeout(() => {
      ripple.style.transition = 'all 1s ease-out';
      ripple.style.transform = 'translate(-50%, -50%) scale(20)';
      ripple.style.opacity = '0';

      setTimeout(() => {
        document.body.removeChild(ripple);
      }, 1000);
    }, 50);
  }

  applySpaceDistortion(enable) {
    const gameCanvas = document.getElementById('gameCanvas');
    if (!gameCanvas) return;

    if (enable) {
      gameCanvas.style.filter = 'blur(2px)';
      gameCanvas.style.transform = 'scale(0.98)';
    } else {
      gameCanvas.style.filter = 'none';
      gameCanvas.style.transform = 'scale(1)';
    }
  }

  openEye(eyeIndex) {
    const eyeEl = document.getElementById(`dice-eye-${eyeIndex}`);
    if (!eyeEl) return;

    eyeEl.style.clipPath = 'circle(0% at 50% 50%)';
    eyeEl.style.transition = 'clip-path 0.5s ease-out';

    setTimeout(() => {
      eyeEl.style.clipPath = 'circle(50% at 50% 50%)';
    }, 50);
  }

  sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
}
```

---

## ğŸ¬ CONCLUSION : LE DÃ‰ EST VIVANT

Ce document contient TOUT pour crÃ©er le DÃ© du Destin le plus **FOU, VIVANT, ADDICTIF** jamais vu dans un jeu indÃ©.

### Checklist Finale

âœ… **Lore profond** - Thalys, 8 faces, personnalitÃ© Ã©volutive
âœ… **5 Stades visuels** - Ivoire â†’ Os â†’ Chair â†’ Vide â†’ Symbiose
âœ… **Animations FOLLES** - Build-up, rÃ©vÃ©lation, spin, explosion (6s totales)
âœ… **Particules massives** - 2000+ particules, Canvas optimisÃ©
âœ… **Audio Hans Zimmer** - Multi-layered, crescendo, impacts
âœ… **Dialogues rÃ©actifs** - Murmures contextuels, personnalitÃ©
âœ… **MÃ©caniques gameplay** - PrÃ©diction, manipulation, fusion DBZ
âœ… **Village intÃ©grÃ©** - Forge du Destin, PNJ Kael
âœ… **Specs techniques** - Code modulaire, prÃªt pour implÃ©mentation

---

**ğŸ² LE DÃ‰ NE LANCE PAS TON DESTIN.**
**TU DEVIENS LE DÃ‰. LE DÃ‰ DEVIENT TOI.**
**ENSEMBLE, VOUS ÃŠTES... LE CHAOS INCARNÃ‰.** ğŸ²

---

_Document crÃ©Ã© par Claude AI + Utilisateur_
_Version ULTIME - 27 DÃ©cembre 2025_
_THE LAST COVENANT - GOTY 2026_
_Tous droits rÃ©servÃ©s - Solo-Dev Project_
