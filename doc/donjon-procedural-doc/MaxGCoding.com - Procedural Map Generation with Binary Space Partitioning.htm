<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <title>MaxGCoding.com - Procedural Map Generation with Binary Space Partitioning</title>
    <link rel="stylesheet" href="MaxGCoding.com%20-%20Procedural%20Map%20Generation%20with%20Binary%20Space%20Partitioning_fichiers/style.css">
    <link rel="stylesheet" type="text/css" href="MaxGCoding.com%20-%20Procedural%20Map%20Generation%20with%20Binary%20Space%20Partitioning_fichiers/prism.css">
    <meta name="description" content="A blog discussing software engineering, programming, data structures, and algorithms">
    <meta name="keywords" content="Data Structures, Algorithms, programming, C++, Java, Sorting">
    <meta name="author" content="Max Goren">
<style>:is([id*='google_ads_iframe'],[id*='taboola-'],.taboolaHeight,.taboola-placeholder,#top-ad,#credential_picker_container,#credentials-picker-container,#credential_picker_iframe,[id*='google-one-tap-iframe'],#google-one-tap-popup-container,.google-one-tap__module,.google-one-tap-modal-div,#amp_floatingAdDiv,#ez-content-blocker-container) {display:none!important;min-height:0!important;height:0!important;}</style></head>
<body cz-shortcut-listen="true">
<div class="page-container">
<header>
    <div class="headercontainer">
        <div class="header-top-row">
            <div class="item headerlogo">
                <h1>MaxGCoding.com</h1>
                <h4>For the love of programming</h4>
            </div>
            <div class="clockdiv"><label>101100010010110111100101111110101001000</label></div>
            <script src="MaxGCoding.com%20-%20Procedural%20Map%20Generation%20with%20Binary%20Space%20Partitioning_fichiers/unixclock.js"></script>
        </div>
        <div class="header-bottom-row">
            <div class="item headernav">
                <ul>
                <li>
                    <a href="https://www.maxgcoding.com/">Home</a>
                </li>
                <li>
                    <a href="https://www.maxgcoding.com/posts">Posts</a>
                </li>
                <li>
                    <a href="https://www.maxgcoding.com/posts-in-category?id=2">Categories</a>
                </li>
                <li>
                    <a href="https://www.maxgcoding.com/projects">Projects</a>
                </li>
                <li>
                    <a href="https://www.maxgcoding.com/about">About</a>
                </li>
                <li>
                    <a href="https://www.maxgcoding.com/contact">Contact</a>
                </li>
                <li>
                    <a href="https://www.maxgcoding.com/login">Login</a>
                </li>
                </ul>
            </div>
            
        </div>
    </div>
</header>

<main class="site-body">
    <div class="posts-area">
        
            <h1>Procedural Map Generation with Binary Space Partitioning</h1>
            <p><img src="MaxGCoding.com%20-%20Procedural%20Map%20Generation%20with%20Binary%20Space%20Partitioning_fichiers/user.png" height="15px" width="15px"><label>mgcadmin</label> <img src="MaxGCoding.com%20-%20Procedural%20Map%20Generation%20with%20Binary%20Space%20Partitioning_fichiers/calendar.png" height="15px" width="15px"> <label>06-29-2025</label> </p>
            <p></p><p>When creating a classical Rogue-like and for many other dungeon based games as well, the levels of the game are <em>procedurally generated.</em>
 This is so that each play through of the game offers the player a new 
experience - no two games are the same. There are many different 
algorithms based on the type of game and style of dungeon you're aiming 
to create.&nbsp;In todays post I'm going to walk through implementing a 
Prodcedural Dungeon Generator using the Binary Space Partitioning 
algorithm to create maps like the one pictured below, so If that's your 
thing then let's get to it.</p>
<p style="text-align: center;"><img src="data:image/png;base64,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" width="727" height="582"></p>
<h2 style="text-align: left;">The Basic Idea</h2>
<p style="text-align: left;">Binary Space Partitioning works by 
repeatedly subdividing a rectangle until reaching some threshold, such 
as minimum room size, number of divisions, etc. The partitioning is done
 top-down, starting with a rectangle comprising the entire area to be 
partitioned. We flip a coin to decided if we should split the space 
vertically or horizontally. When we choose the place to split, be it 
horizontal or vertical, we want it to to be slightly off-centered 
instead of splitting evenly to create more variety in the room sizes 
generated.</p>
<p style="text-align: left;"><img style="display: block; margin-left: auto; margin-right: auto;" src="MaxGCoding.com%20-%20Procedural%20Map%20Generation%20with%20Binary%20Space%20Partitioning_fichiers/Dungeon_bsp1.png" alt="Dungeon bsp1.png"></p>
<p style="text-align: center;">(Image borrowed from RogueBasin, see bottom)</p>
<p style="text-align: left;">Once the area has been partitioned into two
 pieces, we then repeat the process on each piece, continuing to recur 
until meeting our threshold to stop. We can split randomly at each 
level, flipping a coin to decide which way to split, or we can choose 
deterministically, alternating direction at each level.</p>
<p style="text-align: left;"><img style="display: block; margin-left: auto; margin-right: auto;" src="MaxGCoding.com%20-%20Procedural%20Map%20Generation%20with%20Binary%20Space%20Partitioning_fichiers/Dungeon_bsp2.png" alt="Dungeon bsp2.png"></p>
<p style="text-align: left;">At each iteration, the new rectangles 
formed become nodes in a datastructure called a Binary Space 
Partitioning Tree. Each rectangle is represented by a pair of x/y 
coordinates representing the upperleft and bottom right corners of the 
rectangle the node represents, this is also sometimes referred to as a 
"bounding box".&nbsp;</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">int</span> X<span class="token punctuation">,</span> <span class="token keyword">int</span> Y<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">x</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y</span><span class="token punctuation">(</span>Y<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">Room</span> <span class="token punctuation">{</span>
    Point upperLeft<span class="token punctuation">;</span>
    Point bottomRight<span class="token punctuation">;</span>
    <span class="token function">Room</span><span class="token punctuation">(</span><span class="token keyword">int</span> ulx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> uly <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> brx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> bry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">upperLeft</span><span class="token punctuation">(</span>ulx<span class="token punctuation">,</span> uly<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">bottomRight</span><span class="token punctuation">(</span>brx<span class="token punctuation">,</span> bry<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> bottomRight<span class="token punctuation">.</span>y <span class="token operator">-</span> upperLeft<span class="token punctuation">.</span>y<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> bottomRight<span class="token punctuation">.</span>x <span class="token operator">-</span> upperLeft<span class="token punctuation">.</span>x<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p style="text-align: left;">In addition to the bounding box, each node 
also contains a flag indicating if it was split from its parent on the 
vertical or horizontal axis. Finally, as BSP Trees are a type of binary 
tree each node has pointers to it's left and right child, or null 
pointers in the case of leaf nodes.</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">BSPNode</span> <span class="token punctuation">{</span>
    Room room<span class="token punctuation">;</span>
    <span class="token keyword">bool</span> splitOnVert<span class="token punctuation">;</span>
    BSPNode<span class="token operator">*</span> left<span class="token punctuation">;</span>
    BSPNode<span class="token operator">*</span> right<span class="token punctuation">;</span>
    <span class="token function">BSPNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> ulx<span class="token punctuation">,</span> <span class="token keyword">int</span> uly<span class="token punctuation">,</span> <span class="token keyword">int</span> brx<span class="token punctuation">,</span> <span class="token keyword">int</span> bry<span class="token punctuation">,</span> <span class="token keyword">bool</span> splitVertical<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">room</span><span class="token punctuation">(</span>ulx<span class="token punctuation">,</span> uly<span class="token punctuation">,</span> brx<span class="token punctuation">,</span> bry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        splitOnVert <span class="token operator">=</span> splitVertical<span class="token punctuation">;</span>
        left <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
        right <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Having discussed the BSP tree data structures, lets turn our attention to the map.</p>
<h2>The Map Structure</h2>
<p>Our dungeon is going to be generated inside of our Map data 
structure. The map is a grid, represeted as a 2-dimensional vector of 
Tile Objects. Each Tile Object represents an x/y point on the map grid, 
and can be either a "blocking tile" or "non-blocking". Blocking tiles 
make up the parts of the Map the player and other entities cannot 
traverse, while "walkable" areas are made up of non-blocking 
tiles.&nbsp;</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Tile</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span><span class="token operator">:</span>
        <span class="token keyword">int</span> x<span class="token punctuation">;</span>
        <span class="token keyword">int</span> y<span class="token punctuation">;</span>
        <span class="token keyword">bool</span> blocking<span class="token punctuation">;</span>
        <span class="token keyword">int</span> d_dst<span class="token punctuation">;</span>
        sf<span class="token double-colon punctuation">::</span>Color color<span class="token punctuation">;</span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token function">Tile</span><span class="token punctuation">(</span><span class="token keyword">int</span> sx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> sy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sf<span class="token double-colon punctuation">::</span>Color col <span class="token operator">=</span> sf<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span>sf<span class="token double-colon punctuation">::</span>RenderTexture<span class="token operator">*</span> texture<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Tile<span class="token operator">&amp;</span> <span class="token function">setBlocking</span><span class="token punctuation">(</span><span class="token keyword">bool</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">bool</span> <span class="token function">isBlocking</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> <span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> <span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> <span class="token function">getDist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Tile<span class="token operator">&amp;</span> <span class="token function">setDist</span><span class="token punctuation">(</span><span class="token keyword">int</span> dist<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Tile<span class="token operator">&amp;</span> <span class="token function">setColor</span><span class="token punctuation">(</span>sf<span class="token double-colon punctuation">::</span>Color col<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sf<span class="token double-colon punctuation">::</span>Color <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>The Map object is very much just a wrapper aroud the grid of Tiles, 
with a few helper methods to keep things concise. Tiles are mainly 
interacted with through the getTile() method which returns a reference 
to the tile located at the provided coordinates.</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Map</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span><span class="token operator">:</span>
        <span class="token keyword">int</span> MAX_WIDTH<span class="token punctuation">;</span>
        <span class="token keyword">int</span> MAX_HEIGHT<span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span>Tile<span class="token operator">&gt;&gt;</span> tiles<span class="token punctuation">;</span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token function">Map</span><span class="token punctuation">(</span><span class="token keyword">int</span> mw <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token keyword">int</span> mh <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">setTile</span><span class="token punctuation">(</span>Tile<span class="token operator">&amp;</span> tile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Tile<span class="token operator">&amp;</span> <span class="token function">getTile</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span>sf<span class="token double-colon punctuation">::</span>RenderTexture<span class="token operator">*</span> texture<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">bool</span> <span class="token function">canStep</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> <span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> <span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>With that out of the way, lets turn this grid into a dungeon.</p>
<h2>Implementing a Dungeon Generator Using BSP</h2>
<p>Generating the dungeon for our map takes place in two major phases:</p>
<p>1) The top-down creation of the BSP tree, during which the map is 
subdivided into smaller and smaller areas to be used as the maps rooms.</p>
<p>2) The bottom-up creation of the actual rooms and the tunnels which 
connect them, which is accomplished with a post order traversal of the 
BSP tree created in the first phase.</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">DungeonGenerator</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span><span class="token operator">:</span>
        <span class="token keyword">int</span> maxRooms<span class="token punctuation">;</span>
        <span class="token keyword">using</span> link <span class="token operator">=</span> BSPNode<span class="token operator">*</span><span class="token punctuation">;</span>
        link root<span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>Map<span class="token operator">&amp;</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">clearRoom</span><span class="token punctuation">(</span>Map<span class="token operator">&amp;</span> map<span class="token punctuation">,</span> Room room<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">connectChildren</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> Map<span class="token operator">&amp;</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        link <span class="token function">splitVertical</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        link <span class="token function">splitHorizontal</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        link <span class="token function">split</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">traverse</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> Map<span class="token operator">&amp;</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">bool</span> <span class="token function">isleaf</span><span class="token punctuation">(</span>link node<span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token function">DungeonGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">createRooms</span><span class="token punctuation">(</span>Map<span class="token operator">&amp;</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>The first step in creating our map layout is to completely blank out 
our grid, by setting every tile to the blocking state. Once the map is 
initialized, we can begin constructing the BSP tree.</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>Map<span class="token operator">&amp;</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> ty <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> ty <span class="token operator">&lt;</span> map<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ty<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> tx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> tx <span class="token operator">&lt;</span> map<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> tx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
             map<span class="token punctuation">.</span><span class="token function">getTile</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBlocking</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2>Creating the BSP Tree</h2>
<p>Construction of the BSP tree begins by initializing the root node of 
our BSP tree. The root node contains the bounding box for the rectangle 
outlining the entire map grid. We set the split flag randomly for the 
root node, as can be seen in the constructor for the root node. With our
 root node created, we begin subdividing our map with a call to split().</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">createRooms</span><span class="token punctuation">(</span>Map<span class="token operator">&amp;</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token function">init</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
       root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">BSPNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       root <span class="token operator">=</span> <span class="token function">split</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       rn <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
       <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>The split method is depth limited, stopping the splitting once we've 
split each space four times. This is far from the only way to decided on
 how much to split the area, its just the simplest. It also has the 
benfit of being deterministic. Using the splitOnVert flag we call either
 splitVertical or splitHorizontal on the node.</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp">link <span class="token function">split</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">!=</span> <span class="token keyword">nullptr</span> <span class="token operator">&amp;&amp;</span> depth <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>splitOnVert<span class="token punctuation">)</span> <span class="token punctuation">{</span>
               node <span class="token operator">=</span> <span class="token function">splitHorizontal</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
               node <span class="token operator">=</span> <span class="token function">splitVertical</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>A non-deterministic version which uses room size instead of depth to decide on splitting can be implemented as follows:</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp">BSPNode<span class="token operator">*</span> <span class="token class-name">DungeonGenerator</span><span class="token double-colon punctuation">::</span><span class="token function">split</span><span class="token punctuation">(</span>link node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> node<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> node<span class="token operator">-&gt;</span>splitOnVert <span class="token operator">&amp;&amp;</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token operator">*</span> MAX_ROOM_WIDTH<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node <span class="token operator">=</span> <span class="token function">splitHorizontal</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token operator">*</span> MAX_ROOM_HEIGHT<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node <span class="token operator">=</span> <span class="token function">splitVertical</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token operator">*</span> MAX_ROOM_WIDTH<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node <span class="token operator">=</span> <span class="token function">splitHorizontal</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Regardless of which version you use, the actual splitting of the node
 takes place in the splitVertical and splitHorizontal method. Once the 
space has been divided, we call the split() method on each of the newly 
created child nodes, and if using depth limiting, incrementing the depth
 counter by one in the process.</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp">link <span class="token function">splitVertical</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               m <span class="token operator">+=</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
               m <span class="token operator">-=</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       node<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">BSPNode</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>x<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>y<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>x<span class="token punctuation">,</span> m<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       node<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">BSPNode</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>x<span class="token punctuation">,</span> m<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>x<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       node<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token function">split</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> depth<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       node<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">split</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> depth<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
link <span class="token function">splitHorizontal</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">int</span> m <span class="token operator">=</span>  <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           m <span class="token operator">+=</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
           m <span class="token operator">-=</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       node<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">BSPNode</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>x<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>y<span class="token punctuation">,</span> m<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       node<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">BSPNode</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>y<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>x<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       node<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token function">split</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> depth<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       node<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">split</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> depth<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>As can be seen, splitVertical and splitHorizontal are <em>very</em> 
similar, the only difference being that splitVertical splits the 
bounding box on the X axis while splitHorizontal splits its along the Y 
axis. With our tree complete, we can now start creating the rooms from 
it.</p>
<h2>Creating the Rooms</h2>
<p>Once we've have reached our desired amount of partitioning we are 
ready to create the actual rooms. This is done using the clearRoom() 
method, which sets the tiles in the given nodes bounding box to non 
blocking. Crucially, we only call this method on the leaf nodes as those
 are the rooms split to the desired sizes.</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">bool</span> <span class="token function">isleaf</span><span class="token punctuation">(</span>link node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> node <span class="token operator">!=</span> <span class="token keyword">nullptr</span> <span class="token operator">&amp;&amp;</span> node<span class="token operator">-&gt;</span>left <span class="token operator">==</span> <span class="token keyword">nullptr</span> <span class="token operator">&amp;&amp;</span> node<span class="token operator">-&gt;</span>right <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">traverse</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> Map<span class="token operator">&amp;</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
           <span class="token keyword">return</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isleaf</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">clearRoom</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>room<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
           <span class="token function">traverse</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token function">traverse</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token function">connectChildren</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>When clearing the tiles for the room, we use a variable amount of 
"padding" on the border of the rooms to aid in giving each room a less 
uniform and more "organic" look.</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">clearRoom</span><span class="token punctuation">(</span>Map<span class="token operator">&amp;</span> map<span class="token punctuation">,</span> Room room<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> xpad <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">int</span> ypad <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> ty <span class="token operator">=</span> room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>y<span class="token operator">+</span>ypad<span class="token punctuation">;</span> ty <span class="token operator">&lt;</span> room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>y<span class="token operator">-</span>ypad<span class="token punctuation">;</span> ty<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> tx <span class="token operator">=</span> room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>x<span class="token operator">+</span>xpad<span class="token punctuation">;</span> tx <span class="token operator">&lt;</span> room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>x<span class="token operator">-</span>xpad<span class="token punctuation">;</span> tx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  map<span class="token punctuation">.</span><span class="token function">getTile</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="data:image/png;base64,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1Pfmj+vo0p7mdR3d9dWee5nndQQAwEG52QYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAIDYNjO3dbiHQyyCy9nWwUl9f/6wjpiZp3ldR3dd5bmXeV5HAAAclJttAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiG0zc1uHezjEIricbR2c1A/m9+uIv8HTvK6ju47+3Ms8ryMAAA7KzTYAAADExDYAAADExDYAAADExDYAAADExDYAAADExDYAAADExDYAAADExDYAAADExDYAAADEtpm5rcM9HGIRXM62Dk7qh/O7dcQneJrXdXTXXs+9zPM6OhTvca7kKueHfQnQeORccLMNAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAsW1mbutwD4dYBJezrYOT+tH8dh2xo6d5XUd31c+9zPM6OhTvca7kKueHfQnQeORccLMNAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAMbENAAAAsW1mbutwD4dYBJezrYOT+vH8Zh1xAk/zuo7ueu9zL/O8jg7Fe5wrucr5YV8CNB45F9xsAwAAQExsAwAAQExsAwAAQExsAwAAQExsAwAAQExsAwAAQExsAwAAQExsAwAAQExsAwAAQGybmds63MMhFsHlbOvgpH4yv15HXMjTvK6ju17meR0divc4V3KV88O+BGg8ci642QYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAICY2AYAAIDYNjO3dbiHQyyCy9nWwUn9dH61jviCXuZ5HR2K9zhXcpXzw74EaDxyLrjZBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgNg2M7d1uIdDLILL2dbBSf1sfrGO+IJ+OT9fR4fiPc6VXOX8sC8BGo+cC262AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAILbNzG0d7uEQi+BytnVwUn83/7OO+IL+d/5+HR2K9zhXcpXzw74EaDxyLrjZBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgJjYBgAAgNg2M7d1uIdDLILL2dbBSf3D/Nc64gv67/nHdXQo3uNcyVXOD/sSoPHIueBmGwAAAGJiGwAAAGJiGwAAAGJiGwAAAGJiGwAAAGJiGwAAAGJiGwAAAGJiGwAAAGJiGwAAAGLbzNzW4R4OsQguZ1sHJ/VP8x/riC/oP+ef19GheI9zJVc5P+xLgMYj54KbbQAAAIiJbQAAAIiJbQAAAIiJbQAAAIiJbQAAAIiJbQAAAIiJbQAAAIiJbQAAAIiJbQAAAIhtM3Nbh3s4xCK4nG0dnNS/zL+tI76gf59/XUeH4j3OlVzl/LAvARqPnAtutgEAACAmtgEAACAmtgEAACAmtgEAACAmtgEAACAmtgEAACAmtgEAACAmtgEAACAmtgEAACC2zcxtHQLA38phwpVs6+Ck7EuAxiPngpttAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiIltAAAAiG0zc1uH7/HQP2J32zoAiDgXuJKrnJf2JUDjkXPBzTYAAADExDYAAADExDYAAADExDYAAADExDYAAADExDYAAADExDYAAADExDYAAADExDYAAADEtpm5rcP3eOgfsbttHXwj/l7g4/bav+9ln3MlR99v72VfAjQeORfcbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBMbAMAAEBsm5nbOnyPh/4Ru9vWAUDEucCVXOW8tC8BGo+cC262AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAICa2AQAAILbNzG0dAgAAAI9zsw0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAAAxsQ0AAACxbWZu63APh1gEX9a2DgDgC/Edxhn4XuNs3GwDAABATGwDAABATGwDAABATGwDAABATGwDAABATGwDAABATGwDAABATGwDAABATGwDAABATGwDAABATGwDAABATGwDAABA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"></p>
<p>At this point, we are left with a map full of variously sized, 
disconnected rooms. This obviously isnt much good, so we have to do a 
bit more work to turn our rooms into a map.</p>
<h2>Connecting the Rooms</h2>
<p>We processed the leaf nodes to creat the nodes, we will use the 
internal nodes to turn our disjoint map into a connected graph. The 
rooms are connected using the connectChildren() method on each internal 
node. It find the center point of the left child and the center point of
 the right child, and creating a "tunnel" of non-blocking tiles between 
the points.</p>
<pre class="language-cpp" tabindex="0"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">connectChildren</span><span class="token punctuation">(</span>link node<span class="token punctuation">,</span> Map<span class="token operator">&amp;</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Get center of left child</span>
        <span class="token keyword">int</span> lmx <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>x <span class="token operator">+</span> node<span class="token operator">-&gt;</span>left<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> lmy <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>y <span class="token operator">+</span> node<span class="token operator">-&gt;</span>left<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token comment">//Get center of right child</span>
        <span class="token keyword">int</span> rmx <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>x <span class="token operator">+</span> node<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> rmy <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>upperLeft<span class="token punctuation">.</span>y <span class="token operator">+</span> node<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>room<span class="token punctuation">.</span>bottomRight<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>splitOnVert<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//create horizontal passages</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> lmx<span class="token punctuation">;</span> x <span class="token operator">&lt;=</span> rmx<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               map<span class="token punctuation">.</span><span class="token function">getTile</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> lmy<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>sf<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
               map<span class="token punctuation">.</span><span class="token function">getTile</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> lmy<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>sf<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">//create vertical passages</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">=</span> lmy<span class="token punctuation">;</span> y <span class="token operator">&lt;=</span> rmy<span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               map<span class="token punctuation">.</span><span class="token function">getTile</span><span class="token punctuation">(</span>rmx<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>sf<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
               map<span class="token punctuation">.</span><span class="token function">getTile</span><span class="token punctuation">(</span>rmx<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>sf<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>And with the rooms connected, we now have our connected map:</p>
<p><img src="data:image/png;base64,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"></p>
<p>Well, there you have it: Procedural Dungeon Generation using Binary Space Partitioning. Until next time, Happy Hacking!</p>
<p>&nbsp;</p>
<h3>Further Reading</h3>
<p>1) <a href="https://www.roguebasin.com/index.php/Basic_BSP_Dungeon_generation">https://www.roguebasin.com/index.php/Basic_BSP_Dungeon_generation</a></p>
<p>2) <a href="https://github.com/maxgoren/Rogue/tree/main">https://github.com/maxgoren/Rogue/tree/main</a></p><p></p>
        
        <hr class="rounded">
        <div class="comments-area">
            <div class="leave-a-comment-area">
                <h3>Leave A Comment</h3>
                <form action="/post-comment?id=207" method="post" onsubmit="return validateInput()"><input type="hidden" name="_csrf" value="qHXeM9FmRvtKqKTQ4jzepp6oWCpba8UIKyMUwIXKpcpbwYgXy0LsArNUJ5pnzpXh0hHqx6eZdUg6XfMlExQmo-b7x6849bEg">
                    <div class="commenter-name"><label>Name: </label><input type="text" id="name" name="name"></div>
                    <div class="commenter-email"><label>Email: </label><input type="text" id="email" name="email"></div>
                    <div class="commenter-message">
                        <label for="commenttext">Comment: </label>
                        <textarea id="commenttext" name="message"></textarea>
                    </div>
                    <div class="commenter-button"><input type="submit"><label> *<em>NOTE:
 In an effort to combat spam and keep conversation friendly, all 
comments are subject to approval and moderation. As such, comments are 
not displayed immediately upon submission.</em>*</label></div>

                </form>
                <script>
                    function validateInput() {
                        const msg = document.getElementById("commenttext").value;
                        if (msg.length > 254) {
                            alert("Comments Cannot Exceed 255 characters.");
                            return false;
                        }
                        return true;
                    }
                </script>
            </div>
            
        </div>
    </div>
    <div class="left-nav">
    <div class="recent-post-title-list">
        <div class="text-divider">Search</div>
        <div class="search-box">
            <form action="/search" method="get">
                <input type="search" name="keyword" placeholder="search">
                <input type="submit" value="Search">
            </form>
        </div>
        <div class="text-divider">Recent Posts</div>
        <ul>
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/compiling-closures"><h5>Implementing Closures in Bytecode: Heap Allocated Activation Records &amp; Access Links</h5></a>
                </li>
        
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/pascals-triangle"><h5>Pascal &amp; Bernoulli &amp; Floyd: Triangles</h5></a>
                </li>
        
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/mgclex-lexer-generator"><h5>A Quick tour of MGCLex</h5></a>
                </li>
        
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/regex-bytecode-vm"><h5>Compiling Regular Expressions for "The VM Approach"</h5></a>
                </li>
        
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/composable-linked-digraphs"><h5>Composable Linked Digraphs: An efficient NFA Data Structure for Thompsons Construction</h5></a>
                </li>
        
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/improved-suffix-array"><h5>Improving the Space Efficiency of Suffix Arrays</h5></a>
                </li>
        
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/bplus-tree-select-by-rank"><h5>Augmenting B+ Trees For Order Statistics</h5></a>
                </li>
        
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/parsing-regular-expressions"><h5>Top-Down AST Construction of Regular Expressions with Recursive Descent</h5></a>
                </li>
        
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/bplus-deletion"><h5>Balanced Deletion for in-memory B+ Trees</h5></a>
                </li>
        
                <li class="left-nav-item">
                  <!--  <a th:href="@{/read-post(id=${bpost.getId()})}"><label th:text="${bpost.getTitle()}">Title</label></a> !-->
                    <a href="https://www.maxgcoding.com/re-2-ast"><h5>Building an AST from a Regular Expression Bottom-up</h5></a>
                </li>
        </ul>
        <div class="text-divider">Meta</div>
        <div class="left-nev-meta">
            <ul>
                <li>
                    <a href="https://www.maxgcoding.com/login">Login</a>
                </li>
                
                
                
            </ul>
        </div>
    </div>
</div>
</main>

<footer>
  Presented by CodeBlahger 1.3.37a, (c) 2024 <a href="http://www.maxgcoding.com/">maxgcoding.com</a>
</footer>
</div>
<script src="MaxGCoding.com%20-%20Procedural%20Map%20Generation%20with%20Binary%20Space%20Partitioning_fichiers/prism.js"></script>

</body></html>